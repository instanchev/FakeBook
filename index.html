<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DogBook</title>
  <style>
    /* Основен стил */
    body {
      margin: 0; font-family: Arial, sans-serif; background: #f0f2f5; color: #050505;
    }
    header {
      background: #4267B2; color: white; padding: 15px 20px; display: flex; align-items: center; justify-content: space-between;
    }
    header h1 {
      margin: 0; font-weight: bold; font-size: 24px;
    }
    nav a {
      color: white; text-decoration: none; margin-left: 20px; font-weight: 600; cursor: pointer;
      transition: color 0.3s;
    }
    nav a:hover {
      color: #a1cdf1;
    }

    /* Контейнер за съдържанието */
    #content {
      max-width: 900px; margin: 20px auto; background: white; border-radius: 10px; padding: 20px; box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
    }

    /* Стилове за различните страници */
    .hidden { display: none; }

    /* Начална стена */
    .post {
      border: 1px solid #ddd; border-radius: 8px; padding: 15px; margin-bottom: 15px;
      background: #fff;
    }
    .post strong {
      color: #4267B2;
    }
    .post small {
      color: #777; float: right;
    }

    /* Профили списък */
    .profiles-grid {
      display: flex; gap: 20px; flex-wrap: wrap;
    }
    .profile-card {
      width: 260px; border: 1px solid #ddd; border-radius: 10px; overflow: hidden;
      background: #fff; cursor: pointer; box-shadow: 0 2px 6px rgb(0 0 0 / 0.1);
      transition: transform 0.2s;
    }
    .profile-card:hover {
      transform: scale(1.05);
    }
    .profile-cover {
      width: 100%; height: 120px; object-fit: cover;
    }
    .profile-info {
      padding: 10px;
      display: flex; align-items: center; gap: 10px;
    }
    .profile-avatar {
      width: 60px; height: 60px; border-radius: 50%; border: 3px solid #4267B2; object-fit: cover;
    }
    .profile-name {
      font-weight: bold; font-size: 18px;
    }
    .profile-type {
      font-size: 14px; color: #777;
    }

    /* Профилен изглед */
    #profileView {
      max-width: 600px; margin: auto;
    }
    #profileView .cover-img {
      width: 100%; height: 180px; object-fit: cover; border-radius: 10px 10px 0 0;
    }
    #profileView .profile-header {
      display: flex; align-items: center; gap: 15px; padding: 15px;
    }
    #profileView .profile-avatar-large {
      width: 100px; height: 100px; border-radius: 50%; border: 4px solid #4267B2; object-fit: cover;
    }
    #profileView .profile-name-large {
      font-size: 28px; font-weight: 700; margin: 0;
    }
    #profileView .profile-type-large {
      color: #555; font-style: italic;
    }
    #profileView .profile-desc {
      padding: 0 15px 20px 15px; font-size: 16px; color: #333;
    }
    #profileView button.back-btn {
      background: #4267B2; color: white; border: none; padding: 10px 20px; margin: 0 15px 15px 15px; border-radius: 8px;
      cursor: pointer; font-weight: 600;
      transition: background 0.3s;
    }
    #profileView button.back-btn:hover {
      background: #365899;
    }

    /* Чат бот */
    #chatBot {
      max-width: 600px; margin: auto; display: flex; flex-direction: column; height: 400px; border: 1px solid #ddd; border-radius: 10px; background: #fff;
    }
    #chatMessages {
      flex-grow: 1; overflow-y: auto; padding: 15px;
      display: flex; flex-direction: column; gap: 10px;
      background: #e9ebee;
      border-radius: 10px 10px 0 0;
    }
    .message {
      max-width: 70%;
      padding: 10px 15px;
      border-radius: 20px;
      font-size: 15px;
      line-height: 1.3;
      box-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    .message.user {
      background: #4267B2; color: white; align-self: flex-end; border-bottom-right-radius: 2px;
    }
    .message.bot {
      background: #fff; color: #222; align-self: flex-start; border-bottom-left-radius: 2px;
    }
    #chatInputWrapper {
      display: flex; padding: 10px; border-top: 1px solid #ddd;
      background: white; border-radius: 0 0 10px 10px;
    }
    #chatInput {
      flex-grow: 1; padding: 10px; font-size: 16px; border-radius: 20px; border: 1px solid #ccc;
      outline: none;
      transition: border-color 0.3s;
    }
    #chatInput:focus {
      border-color: #4267B2;
    }
    #chatSendBtn {
      background: #4267B2; border: none; color: white; padding: 10px 20px; margin-left: 10px; border-radius: 20px; cursor: pointer;
      font-weight: 600;
      transition: background 0.3s;
    }
    #chatSendBtn:hover {
      background: #365899;
    }

  </style>
</head>
<body>

<header>
  <h1>DogBook</h1>
  <nav>
    <a href="#" id="navFeed">Начало</a>
    <a href="#" id="navProfiles">Профили</a>
    <a href="#" id="navChat">Чат Бот</a>
  </nav>
</header>

<div id="content">
  <!-- Начална стена -->
  <div id="feedView">
    <h2>Начална стена</h2>
    <div id="postsContainer"></div>
  </div>

  <!-- Профили -->
  <div id="profilesView" class="hidden">
    <h2>Профили</h2>
    <div class="profiles-grid" id="profilesContainer"></div>
  </div>

  <!-- Профилен изглед -->
  <div id="profileView" class="hidden">
    <button class="back-btn" id="backToProfiles">&larr; Назад към профили</button>
    <img src="" alt="cover" class="cover-img" id="profileCover" />
    <div class="profile-header">
      <img src="" alt="avatar" class="profile-avatar-large" id="profileAvatar" />
      <div>
        <h2 class="profile-name-large" id="profileName"></h2>
        <p class="profile-type-large" id="profileType"></p>
      </div>
    </div>
    <p class="profile-desc" id="profileDescription"></p>
  </div>

  <!-- Чат Бот -->
  <div id="chatView" class="hidden">
    <h2>Чат с куче/котка</h2>
    <div id="chatBot">
      <div id="chatMessages"></div>
      <div id="chatInputWrapper">
        <input type="text" id="chatInput" placeholder="Пиши нещо..." />
        <button id="chatSendBtn">Изпрати</button>
      </div>
    </div>
  </div>
</div>

<script>
  // ДАННИ - профили и постове
  const profiles = [
    {
      id: "1",
      name: "Бобо",
      type: "Куче",
      cover: "https://placedog.net/800/200?id=1",
      avatar: "https://placedog.net/100/100?id=1",
      description: "Обича да тича и да играе.",
    },
    {
      id: "2",
      name: "Мими",
      type: "Котка",
      cover: "https://placekitten.com/800/200",
      avatar: "https://placekitten.com/100/100",
      description: "Лежи по цял ден и гледа навън.",
    },
    {
      id: "3",
      name: "Рекс",
      type: "Куче",
      cover: "https://placedog.net/800/200?id=3",
      avatar: "https://placedog.net/100/100?id=3",
      description: "Силен пазач и добър приятел.",
    },
    {
      id: "4",
      name: "Луна",
      type: "Котка",
      cover: "https://placekitten.com/801/200",
      avatar: "https://placekitten.com/101/101",
      description: "Обича да лови мишки.",
    },
  ];

  const posts = [
    {
      id: 1,
      author: "Бобо (куче)",
      content: "Днес играх на полето и се чувствах страхотно!",
      date: "2025-06-20",
    },
    {
      id: 2,
      author: "Мими (котка)",
      content: "Обичам да спя на слънце и да гледам птиците.",
      date: "2025-06-19",
    },
  ];

  // CHAT BOT фрази
  const dogPhrases = [
    "Как си, приятел?",
    "Хапка ли искаш?",
    "Искаш ли да поиграем?",
    "Води ме на разходка!",
    "Виех на луната снощи!",
    "Кой е най-добрият човек? Ти!",
  ];

  const catPhrases = [
    "Мърр... Спиш ли?",
    "Нека си поспим заедно.",
    "Хайде да се сгушим.",
    "Днес ще дремя цял ден.",
    "Къде е храната ми?",
    "Обичам да се глезя.",
  ];

  // Показва Начална стена
  function showFeed() {
    hideAllViews();
    document.getElementById("feedView").classList.remove("hidden");
    const container = document.getElementById("postsContainer");
    container.innerHTML = "";
    posts.forEach(post => {
      const div = document.createElement("div");
      div.className = "post";
      div.innerHTML = `<strong>${post.author}</strong><small>${post.date}</small><p>${post.content}</p>`;
      container.appendChild(div);
    });
  }

  // Показва списък с профили
  function showProfiles() {
    hideAllViews();
    document.getElementById("profilesView").classList.remove("hidden");
    const container = document.getElementById("profilesContainer");
    container.innerHTML = "";
    profiles.forEach(p => {
      const card = document.createElement("div");
      card.className = "profile-card";
      card.innerHTML = `
        <img class="profile-cover" src="${p.cover}" alt="cover" />
        <div class="profile-info">
          <img class="profile-avatar" src="${p.avatar}" alt="avatar" />
          <div>
            <div class="profile-name">${p.name}</div>
            <div class="profile-type">${p.type}</div>
          </div>
        </div>
      `;
      card.onclick = () => showProfile(p.id);
      container.appendChild(card);
    });
  }

  // Показва отделен профил
  function showProfile(id) {
    hideAllViews();
    const p = profiles.find(x => x.id === id);
    if (!p) return alert("Профилът не е намерен.");
    document.getElementById("profileView").classList.remove("hidden");
    document.getElementById("profileCover").src = p.cover;
    document.getElementById("profileAvatar").src = p.avatar;
    document.getElementById("profileName").textContent = p.name;
    document.getElementById("profileType").textContent = p.type;
    document.getElementById("profileDescription").textContent = p.description;
  }

  // Чат бот функционалност
  function showChat() {
    hideAllViews();
    document.getElementById("chatView").classList.remove("hidden");
    document.getElementById("chatMessages").innerHTML = "";
  }

  function addMessage(text, sender) {
    const container = document.getElementById("chatMessages");
    const msg = document.createElement("div");
    msg.className = "message " + sender;
    msg.textContent = text;
    container.appendChild(msg);
    container.scrollTop = container.scrollHeight;
  }

  function botReply(userText) {
    // Прости правила: ако има "куче" или "бай", отговаря с кучешки фрази
    // ако има "котка", "мър", "мяу" - котешки фрази
    // иначе случайна фраза от двата вида

    const text = userText.toLowerCase();

    if (text.includes("куче") || text.includes("бай") || text.includes("вие")) {
      return dogPhrases[Math.floor(Math.random() * dogPhrases.length)];
    } else if (text.includes("котка") || text.includes("мър") || text.includes("мяу")) {
      return catPhrases[Math.floor(Math.random() * catPhrases.length)];
    } else {
      // Смесено
      const all = dogPhrases.concat(catPhrases);
      return all[Math.floor(Math.random() * all.length)];
    }
  }

  // Управление на навигацията
  document.getElementById("navFeed").onclick = e => { e.preventDefault(); showFeed(); }
  document.getElementById("navProfiles").onclick = e => { e.preventDefault(); showProfiles(); }
  document.getElementById("navChat").onclick = e => { e.preventDefault(); showChat(); }

  document.getElementById("backToProfiles").onclick = () => showProfiles();

  // Чат бутон
  document.getElementById("chatSendBtn").onclick = () => {
    const input = document.getElementById("chatInput");
    const text = input.value.trim();
    if (!text) return;
    addMessage(text, "user");
    input.value = "";
    setTimeout(() => {
      addMessage(botReply(text), "bot");
    }, 700);
  };

  // ENTER в чат
  document.getElementById("chatInput").addEventListener("keydown", e => {
    if (e.key === "Enter") {
      e.preventDefault();
      document.getElementById("chatSendBtn").click();
    }
  });

  // Скрива всички изгледи
  function hideAllViews() {
    document.getElementById("feedView").classList.add("hidden");
    document.getElementById("profilesView").classList.add("hidden");
    document.getElementById("profileView").classList.add("hidden");
    document.getElementById("chatView").classList.add("hidden");
  }

  // Стартиране
  showFeed();

</script>

</body>
</html>
